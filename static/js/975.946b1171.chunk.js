"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[975],{913:function(e,n,r){r.d(n,{Bi:function(){return i},Df:function(){return a},YJ:function(){return u},aB:function(){return s},z1:function(){return c}});var t=r(294).Z.create({baseURL:"https://api.themoviedb.org/3"}),a=function(){return t.get("/trending/movie/day",{params:{api_key:"eaa473c2aabcdb92684db8ef78b61bb0",language:"en-US"}})},c=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r="eaa473c2aabcdb92684db8ef78b61bb0";return t.get("/search/movie",{params:{api_key:r,language:"en-US",include_adult:!1,query:e,page:n}})},u=function(e){return t.get("movie/".concat(e),{params:{api_key:"eaa473c2aabcdb92684db8ef78b61bb0",language:"en-US"}})},i=function(e){return t.get("movie/".concat(e,"/credits"),{params:{api_key:"eaa473c2aabcdb92684db8ef78b61bb0",language:"en-US"}})},s=function(e){return t.get("movie/".concat(e,"/reviews"),{params:{api_key:"eaa473c2aabcdb92684db8ef78b61bb0",language:"en-US"}})}},975:function(e,n,r){r.r(n),r.d(n,{default:function(){return j}});var t=r(861),a=r(439),c=r(757),u=r.n(c),i=r(791),s=r(87),o=r(942),l=r(413),f="movies-search-form_searchForm__ypifB",m="movies-search-form_fieldGroup__mB1g5",d=r(184),b=function(e){var n=e.onSubmit,r=(0,i.useState)({search:""}),t=(0,a.Z)(r,2),c=t[0],u=t[1],s=(0,i.useRef)(null);(0,i.useEffect)((function(){s.current.focus()}),[]);var b=function(){u({search:""})},h=(0,i.useMemo)((function(){return function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,n="",r=crypto.getRandomValues(new Uint8Array(e));e--;){var t=63&r[e];n+=t<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t<63?"_":"-"}return n}()}),[]);return(0,d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n((0,l.Z)({},c)),b()},className:f,children:[(0,d.jsxs)("div",{className:m,children:[(0,d.jsx)("label",{htmlFor:h}),(0,d.jsx)("input",{id:h,ref:s,value:c.search,onChange:function(e){var n=e.target,r=n.name,t=n.value;u((0,l.Z)((0,l.Z)({},c),{},(0,o.Z)({},r,t)))},required:!0,type:"text",name:"search"})]}),(0,d.jsx)("button",{type:"submit",children:"Search"})]})},h=r(689),v={},p=function(e){var n=e.items,r=(0,h.TH)(),t=n.map((function(e){var n=e.id,t=e.original_title;return(0,d.jsx)("li",{className:v.item,children:(0,d.jsx)(s.rU,{to:"/movies/".concat(n),state:{from:r},children:t})},n)}));return(0,d.jsx)("ul",{className:v.list,children:t})},g=r(913),_="movies-search_errorColor__iZrYW",x=function(){var e=(0,i.useState)([]),n=(0,a.Z)(e,2),r=n[0],c=n[1],o=(0,i.useState)(!1),l=(0,a.Z)(o,2),f=l[0],m=l[1],h=(0,i.useState)(null),v=(0,a.Z)(h,2),x=v[0],j=v[1],S=(0,s.lr)(),k=(0,a.Z)(S,2),y=k[0],Z=k[1],U=y.get("search");(0,i.useEffect)((function(){var e=function(){var e=(0,t.Z)(u().mark((function e(){var n,r,t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,(0,g.z1)(U);case 4:r=e.sent,t=r.data,c(null!==(n=t.results)&&void 0!==n&&n.length?t.results:[]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),j(e.t0.message);case 12:return e.prev=12,m(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}();U&&e()}),[U]);var w=Boolean(r.length);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(b,{onSubmit:function(e){var n=e.search;Z({search:n}),c([])}}),x&&(0,d.jsx)("p",{className:_,children:x}),f&&(0,d.jsx)("p",{children:"...Loading"}),w&&(0,d.jsx)(p,{items:r})]})},j=function(){return(0,d.jsx)("div",{children:(0,d.jsx)(x,{})})}}}]);
//# sourceMappingURL=975.946b1171.chunk.js.map